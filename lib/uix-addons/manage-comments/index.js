!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("UIExtension")):"function"==typeof define&&define.amd?define(["UIExtension"],n):"object"==typeof exports?exports.ManageCommentsAddon=n(require("UIExtension")):t.ManageCommentsAddon=n(t.UIExtension)}(self,(function(t){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=6)}([function(n,e){n.exports=t},function(t,n,e){var o=e(3);t.exports=function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n){t.exports=null},function(t,n){function e(n,o){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,o)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,n,e){},function(t,n,e){},function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return b}));var o=e(1),r=e.n(o),i=e(0),c=e(2),s=e.n(c),a=function(t){function n(){return t.apply(this,arguments)||this}return r()(n,t),n.getName=function(){return"manage-comments-dropdown"},n}(i.SeniorComponentFactory.createSuperClass({template:'\n        <ribbon-button\n        text="manage-comments:manageComments.text"\n        icon-class="fv__icon-manage-comments"\n        class="manage-comments"\n        @var.self="$component">\n            <dropdown icon-class="fv__icon-comment-comments" separate=false>\n                <dropdown-item class="fv__ui-dropdown-container-item">\n                    <manage-comments:comments-dropdown></manage-comments:comments-dropdown>\n                </dropdown-item>\n            </dropdown>\n        </ribbon-button>\n    '})),u=function(t){function n(){return t.apply(this,arguments)||this}return r()(n,t),n.getName=function(){return"comments-dropdown"},n}(UIExtension.SeniorComponentFactory.createSuperClass({template:'\n        <dropdown \n            separate="false"\n            align="out-right"\n            valign="center"\n            class="comments-dropdown"\n            icon-class="fv__icon-comment-comments"\n            name="comments-dropdown" \n            text="manage-comments:comments.text">\n            <manage-comments:show-all-button ribbon-icon="" name="dropdown-show-all"></manage-comments:show-all-button>\n            <manage-comments:hide-all-button ribbon-icon="" name="dropdown-hide-all"></manage-comments:hide-all-button>\n        </dropdown>\n    '})),m=i.PDFUI,l=i.PDFViewCtrl.ViewerEvents,p=function(t){function n(){return t.apply(this,arguments)||this}r()(n,t),n.scope=function(){return i.ServiceScope.SINGLETON},n.inject=function(){return{pdfUI:m}};var e=n.prototype;return e.showAll=function(){this.pdfUI&&this.pdfUI.eventEmitter.emit(l.showAllComments)},e.hideAll=function(){this.pdfUI&&this.pdfUI.eventEmitter.emit(l.hideAllComments)},n}(i.PDFViewCtrl.shared.Disposable),f=JSON.stringify({shortcutKey:"Ctrl+8",handleName:"click"}),d=function(t){function n(){return t.apply(this,arguments)||this}r()(n,t),n.getName=function(){return"show-all-button"},n.services=function(){return{service:p}};var e=n.prototype;return e.mounted=function(){t.prototype.mounted.call(this),this.pdfUI.getComponentByName("comment-list-sidebar-panel").then((function(t){return!t.children().length&&t.trigger("active")}))},e.click=function(){return this.service.showAll()},n}(i.SeniorComponentFactory.createSuperClass({template:'<xbutton\n        @tooltip tooltip-title="manage-comments:show-all.desc"\n        tooltip-description="manage-comments:show-all.descSub"\n        text="manage-comments:show-all.text"\n        @on.click="$component.click()"\n        @manage-comments:shortcutKey='.concat(f,'\n        @tooltip\n        icon-class="fx-icon-sm fv__icon-show_all-comments"\n    >\n    </xbutton>')})),h=JSON.stringify({shortcutKey:"Ctrl+Shift+8",handleName:"click"}),g=function(t){function n(){return t.apply(this,arguments)||this}r()(n,t),n.getName=function(){return"hide-all-button"},n.services=function(){return{service:p}};var e=n.prototype;return e.mounted=function(){t.prototype.mounted.call(this)},e.click=function(){return this.service.hideAll()},n}(i.SeniorComponentFactory.createSuperClass({template:'<xbutton\n        @tooltip tooltip-title="manage-comments:hide-all.desc"\n        tooltip-description="manage-comments:hide-all.descSub"\n        text="manage-comments:hide-all.text"\n        @on.click="$component.click()"\n        @manage-comments:shortcutKey='.concat(h,'\n        @tooltip\n        icon-class="fx-icon-sm fv__icon-hide_all-comments"\n    >\n    </xbutton>')})),y=(e(4),e(5),function(t){function n(){return t.apply(this,arguments)||this}r()(n,t),n.getName=function(){return"shortcutKey"};var e=n.prototype;return e.init=function(n){t.prototype.init.call(this,n);var e=this.getShortcutKeyOptions(),o=e.shortcutKey,r=e.handleName;if(n[r]){var i=n.pdfUI.pdfViewer,c=function(t){i.getCurrentPDFDoc()&&n.isVisible&&!n.disabled&&n[r].bind(n)()};i.onShortcutKey(o,c),this.addDestroyHook((function(){i.offShortcutKey(o,c)}))}},e.getShortcutKeyOptions=function(){var t,n;try{var e=JSON.parse(this.attrValue),o=e.shortcutKey,r=e.handleName;t=o,n=r}catch(t){}return{shortcutKey:t,handleName:n}},n}(i.Directive)),b=function(t){function n(){return t.apply(this,arguments)||this}r()(n,t),n.getName=function(){return"manage-comments"},n.getLoader=function(){return s.a},n.initOnLoad=function(){var t=i.modular.module("manage-comments",[]);t.registerComponent(a),t.registerComponent(u),t.registerComponent(d),t.registerComponent(g),t.getRegistry().registerDirective(y)};var e=n.prototype;return e.init=function(t){this.pdfUI=t},e.serviceClass=function(){return p},e.service=function(){return this.pdfUI.getServiceInstance(p)},n}(i.UIXAddon)}]).default}));